<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/aitrade.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <title>Transaction History - <%= user ? user : 'Guest' %></title>
</head>
<body>
  <div class="sub-head">
    <ul>
      <li class="logo-container">
        <img src="/image/logo-bg.webp" alt="AItrade Logo" class="logo">
      </li>
      <li class="intro">
        <h4><%= user %></h4>
      </li>
    </ul>
  </div>
  <header>
    <div>
      <ul>
        
      </ul>
    </div>
  </header>
  <nav class="container">
    <div class="stats">
      <ul>
        <li><a href="/deposit"><i class="fas fa-plus-circle"></i> Deposit</a></li>
        <li><a href="/withdraw"><i class="fas fa-wallet"></i> Withdraw</a></li>
      </ul>
    </div>
    </nav>

  <main class="container">
      <h1>Transaction History</h1>
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Type</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody>
          <% transactions.forEach(function(transaction) { %>
            <tr>
              <td><%= transaction.date.toLocaleDateString() %></td>
              <td><%= transaction.type %></td>
              <td>â‚¦<%= transaction.amount.toFixed(2) %></td>
            </tr>
          <% }); %>
        </tbody>
      </table>
      <a href="/">Go back to Home</a>
    </div>
  </main>

  <footer>
    <ul class="footer-nav">
      <li><a href="/"><i class="fas fa-home"></i> Home</a></li>
      <li><a href="/Support"><i class="fas fa-headset"></i> Support</a></li>
      <li><a href="/logout"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
    </ul>
  </footer>

  <script>
    // Select the toggle button
    const themeToggleButton = document.getElementById('theme-toggle');

    // Function to switch themes
    function switchTheme() {
        if (document.body.classList.contains('dark-mode')) {
            document.body.classList.remove('dark-mode');
            document.body.classList.add('light-mode');
            localStorage.setItem('theme', 'light');
            themeToggleButton.textContent = 'Switch to Dark Mode';
        } else {
            document.body.classList.remove('light-mode');
            document.body.classList.add('dark-mode');
            localStorage.setItem('theme', 'dark');
            themeToggleButton.textContent = 'Switch to Light Mode';
        }
    }

    // Check localStorage for saved theme preference
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
        document.body.classList.add(savedTheme + '-mode');
        themeToggleButton.textContent = savedTheme === 'dark' ? 'Switch to Light Mode' : 'Switch to Dark Mode';
    } else {
        document.body.classList.add('light-mode');
        themeToggleButton.textContent = 'Switch to Dark Mode';
    }

    // Add event listener
    themeToggleButton.addEventListener('click', switchTheme);
  </script>

</body>
</html>
